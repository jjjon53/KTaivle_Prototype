# ğŸ—ï¸ PKSmart Developer & Design Guide

ì´ ë¬¸ì„œëŠ” íŒ€ì›ë“¤ì´ **PKSmart í”„ë¡œì íŠ¸**ë¥¼ í•¨ê»˜ ê°œë°œí•  ë•Œ ë””ìì¸ê³¼ ì½”ë“œ ìŠ¤íƒ€ì¼ì„ í†µì¼í•˜ê¸° ìœ„í•œ ê°€ì´ë“œë¼ì¸ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ í˜ì´ì§€ë¥¼ ë§Œë“¤ê±°ë‚˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ì´ ê·œì¹™ì„ ì°¸ê³ í•´ ì£¼ì„¸ìš”.

## 1. ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ (Design System)

### **Color Palette**
ìš°ë¦¬ëŠ” **Certara/PharmaTwin** í…Œë§ˆë¥¼ ë”°ë¦…ë‹ˆë‹¤.
- **Primary Blue**: `#0077a2` (ë§í¬, ë²„íŠ¼, ê°•ì¡° í…ìŠ¤íŠ¸)
- **Primary Dark**: `#005a7a` (ë²„íŠ¼ Hover)
- **Background**: `#F3F4F6` (bg-gray-100)
- **Card Background**: `#FFFFFF` (white)
- **Text**: `text-gray-800` (ë³¸ë¬¸), `text-gray-500` (ë³´ì¡°)

### **UI Components**
ëª¨ë“  í˜ì´ì§€ëŠ” `app_base.html`ì„ ìƒì†ë°›ì•„ì•¼ í•©ë‹ˆë‹¤.

```html
{% extends "app_base.html" %}

{% block title %}í˜ì´ì§€ ì œëª©{% endblock %}

{% block content %}
<div class="p-6">
    <!-- ì½˜í…ì¸  ì‘ì„± -->
    <div class="content-card p-6">
       ...
    </div>
</div>
{% endblock %}
```

### **CSS Utility Classes (Tailwind)**
- **ì¹´ë“œ ìŠ¤íƒ€ì¼**: `.content-card` (ì»¤ìŠ¤í…€ í´ë˜ìŠ¤, `dashboard.html` ë“± ì°¸ì¡°)
  - `bg-white border border-gray-200 rounded-lg shadow-sm`
- **ë²„íŠ¼**:
  - Primary: `bg-[#0077a2] hover:bg-[#005a7a] text-white rounded-lg`
- **ì•„ì´ì½˜**: Heroicons (SVG) ì‚¬ìš© ê¶Œì¥.

---

## 2. ğŸ¤– AI í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ (AI Prompt Template)

íŒ€ì›ë“¤ì´ ê°ì AI(ChatGPT, Claude ë“±)ë¥¼ í™œìš©í•´ ê°œë°œí•  ë•Œ, ì•„ë˜ í”„ë¡¬í”„íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ **ê¸°ì¡´ ì½”ë“œì™€ í†µì¼ëœ ê²°ê³¼ë¬¼**ì„ ì‰½ê²Œ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### **[ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”]**

```markdown
# í”„ë¡œì íŠ¸ì— ìƒˆë¡œìš´ ê²°ê³¼ í˜ì´ì§€(Result Page) ì¶”ê°€ ìš”ì²­

í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ë””ìì¸ í†µì¼ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ìƒˆë¡œìš´ í˜ì´ì§€ë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ì–´.
ê¸°ì¡´ ì½”ë“œ(`app_base.html` ìƒì†, Tailwind CSS, FastAPI ë¼ìš°í„° ë“±)ë¥¼ ê·¸ëŒ€ë¡œ ë”°ë¼ì„œ êµ¬í˜„í•´ì¤˜.

## 1. í˜ì´ì§€ ê°œìš”
- **í˜ì´ì§€ ì´ë¦„/URL**: [ì˜ˆ: /results/comparison (ë¹„êµ ë¶„ì„ í˜ì´ì§€)]
- **ëª©ì **: [ì˜ˆ: ë‘ ê°œì˜ ì•½ë¬¼ ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ë¥¼ ë‚˜ë€íˆ ë†“ê³  ë¹„êµí•˜ëŠ” í™”ë©´]

## 2. ë””ìì¸ ë° ë ˆì´ì•„ì›ƒ ìš”êµ¬ì‚¬í•­ (í•„ìˆ˜ ìœ ì§€)
1. **í…œí”Œë¦¿ ìƒì†**: ë¬´ì¡°ê±´ `app_base.html`ì„ ìƒì†(`{% extends "app_base.html" %}`)ë°›ì„ ê²ƒ.
2. **ì‚¬ì´ë“œë°” ëª¨ë“œ**:
   - [ ] Compact ëª¨ë“œ (ì•„ì´ì½˜ ìœ„ì£¼, ìƒì„¸ í˜ì´ì§€ìš©) -> `sidebar_mode="compact"`
   - [ ] Wide ëª¨ë“œ (ê¸°ë³¸ ëŒ€ì‹œë³´ë“œìš©) -> `sidebar_mode="default"`
3. **ìŠ¤íƒ€ì¼**: ê¸°ì¡´ê³¼ ë™ì¼í•œ Tailwind CSS ì‚¬ìš© (ìƒ‰ìƒ ì½”ë“œ `#0077a2`, ì¹´ë“œ ìŠ¤íƒ€ì¼ `.content-card` ë“± ì¬ì‚¬ìš©).
4. **í—¤ë”**: `{% block header_left %}`ì— í˜ì´ì§€ ì œëª©ê³¼ ë’¤ë¡œê°€ê¸° ë²„íŠ¼(í•„ìš”ì‹œ) ë°°ì¹˜.

## 3. í•µì‹¬ ê¸°ëŠ¥ ë° ì½˜í…ì¸ 
ì´ í˜ì´ì§€ì— ë“¤ì–´ê°ˆ êµ¬ì²´ì ì¸ êµ¬ì„± ìš”ì†ŒëŠ” ë‹¤ìŒê³¼ ê°™ì•„:
- **ì„¹ì…˜ 1**: [êµ¬ì²´ì ì¸ ì„¤ëª…]
- **ì„¹ì…˜ 2**: [êµ¬ì²´ì ì¸ ì„¤ëª…]
- **ë°ì´í„°**: [ë°±ì—”ë“œ ì—°ê²° ì •ë³´ ë“±]

## 4. ì‘ì—… ë²”ìœ„
1. `app/templates/[íŒŒì¼ëª…].html` ìƒì„±
2. `app/routers/[ê´€ë ¨ë¼ìš°í„°].py`ì— ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ (GET ìš”ì²­ ì²˜ë¦¬)

ì´ ê°€ì´ë“œì— ë§ì¶°ì„œ ì½”ë“œë¥¼ ì‘ì„±í•´ ì¤˜.
```

---

## 3. ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡° (Structure)

```text
PKSmart/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py            # FastAPI ì§„ì…ì 
â”‚   â”œâ”€â”€ routers/           # í˜ì´ì§€ ë¼ìš°íŒ… ë¡œì§ (projects.py, cohorts.py ë“±)
â”‚   â”œâ”€â”€ templates/         # HTML (Jinja2)
â”‚   â”‚   â”œâ”€â”€ app_base.html  # ë©”ì¸ ë ˆì´ì•„ì›ƒ (ì‚¬ì´ë“œë°” í¬í•¨)
â”‚   â”‚   â”œâ”€â”€ auth_base.html # ë¡œê·¸ì¸/ê°€ì… ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ static/            # CSS, JS, Images
â”œâ”€â”€ pksmart/               # AI ëª¨ë¸/ë°ì´í„° ì²˜ë¦¬ ë¡œì§
â””â”€â”€ docs/                  # ë¬¸ì„œ
```
## 5. ğŸ—ï¸ Template Architecture (Front-end)

ìš°ë¦¬ í”„ë¡œì íŠ¸ì˜ í…œí”Œë¦¿ ìƒì† êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```mermaid
graph TD
    Base[base.html<br/>(Tailwind, Fonts, Scripts)]
    
    Base --> AppBase[app_base.html<br/>(Sidebar, Header Layout)]
    Base --> AuthBase[auth_base.html<br/>(Centered Card Layout)]
    Base --> Index[index.html<br/>(Landing Page)]

    AppBase --> Dashboard[dashboard.html]
    AppBase --> ProjectDetail[projects/*.html]
    AppBase --> ResultDetail[project_results.html<br/>(Internal: Centered Card Style)]
    AppBase --> ReportDetail[ind_report_detail.html<br/>(Internal: Centered Card Style)]

    AuthBase --> Login[login.html]
    AuthBase --> Signup[signup.html]
```

### **í•µì‹¬ ê°€ì´ë“œ**
1. **`app_base.html`**: ëŒ€ì‹œë³´ë“œ ë‚´ì˜ ëª¨ë“  í˜ì´ì§€ëŠ” ì´ íŒŒì¼ì„ ìƒì†ë°›ì•„ì•¼ ì‚¬ì´ë“œë°”ê°€ ìœ ì§€ë©ë‹ˆë‹¤.
2. **`auth_base.html`**: ë¡œê·¸ì¸/íšŒì›ê°€ì… ë“± ì‚¬ì´ë“œë°”ê°€ **ì—†ëŠ”** í˜ì´ì§€ìš©ì…ë‹ˆë‹¤.
3. **ìƒì„¸ í˜ì´ì§€ ë””ìì¸**: `project_results.html`ì´ë‚˜ `ind_report_detail.html`ì€ `app_base.html`ì„ ìƒì†ë°›ì§€ë§Œ, ë‚´ë¶€ ì½˜í…ì¸  ë””ìì¸ì€ `auth_base.html`ì˜ ê¹”ë”í•œ ì¹´ë“œ ìŠ¤íƒ€ì¼ì„ ì°¨ìš©í•˜ì—¬ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. (ìƒì† ê´€ê³„ ì•„ë‹˜)

### 4.1 ì‹¤í–‰ ìƒíƒœ í™•ì¸ ë° ê²€ì¦ (Verification)

ì„œë²„ê°€ ì œëŒ€ë¡œ ë–´ëŠ”ì§€, í¬íŠ¸ê°€ ë§ëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

#### **1. í¬íŠ¸ í™•ì¸ (Port Check)**
ì„œë²„ê°€ 8000ë²ˆ í¬íŠ¸ë¥¼ ì •ìƒì ìœ¼ë¡œ ì ìœ í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
```powershell
netstat -ano | findstr :8000
```
- ê²°ê³¼ê°€ ë‚˜ì˜¤ë©´: í•´ë‹¹ í¬íŠ¸ê°€ ì‚¬ìš© ì¤‘ì„ (ì •ìƒì¼ í™•ë¥  ë†’ìŒ)
- ê²°ê³¼ê°€ ì—†ìœ¼ë©´: ì„œë²„ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ìŒ

#### **2. Docker ì‹¤í–‰ í™•ì¸**
Docker ì»¨í…Œì´ë„ˆê°€ ëŒê³  ìˆëŠ”ì§€, í¬íŠ¸ ë§¤í•‘ì´ `8000->8000`ì¸ì§€ `8001->8000`ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
```powershell
docker ps
```
- **PORTS** ì»¬ëŸ¼ì„ í™•ì¸í•˜ì„¸ìš”. `0.0.0.0:8000->8000/tcp` ë¼ê³  ë˜ì–´ ìˆì–´ì•¼ `http://localhost:8000`ìœ¼ë¡œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ë§Œì•½ `8001->8000`ì´ë¼ë©´ `http://localhost:8001`ë¡œ ì ‘ì†í•´ì•¼ í•©ë‹ˆë‹¤.

#### **3. Docker ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì • ë°©ë²•**
`restart_server.ps1` íŒŒì¼ì„ ì—´ì–´ í¬íŠ¸ ë§¤í•‘ ë¶€ë¶„ì„ í™•ì¸í•©ë‹ˆë‹¤.
```powershell
# ì˜¬ë°”ë¥¸ ì˜ˆ (8000ë²ˆìœ¼ë¡œ ì ‘ì†)
docker run ... -p 8000:8000 ...

# ì˜ëª»ëœ ì˜ˆ (8001ë²ˆìœ¼ë¡œ ì ‘ì†í•´ì•¼ í•¨)
docker run ... -p 8001:8000 ...
```

